<!DOCTYPE html> 
<html lang="fr">
<head>
	<title>NoxuNote</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="../../node_modules/@fortawesome/fontawesome-free/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="../../node_modules/html5tooltipsjs/html5tooltips.css">
	<link rel="stylesheet" type="text/css" href="../../node_modules/html5tooltipsjs/html5tooltips.animation.css">
	<link rel="stylesheet" href="./materializecss-custom.css">
	<link rel="stylesheet" href="./bootstrap-sandstone.min.css">
	<link rel="stylesheet" href="./customBootstrap.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="stylesheet" href="../../node_modules/summernote/dist/summernote-bs4.css">
	<link rel="stylesheet" href="./customEditor.css">
	<link rel="stylesheet" href="./modals.css">
	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
	<script src="../../node_modules/code-prettify/loader/run_prettify.js"></script>	
</head>

<header>
	<div id="barre_haut">
		<div id="windowTitle"></div>
		<div id="windowTitleText">
			<img src="../../images/noxunote.png" height="12px"/> NoxuNote - 
			<div id="TitrePrincipal" onClick='boutonMenuGaucheSauver()'>(Cliquez pour nommer la note)</div>
		</div>
		<div id="trayButtons">
			<i onClick="minimizeWindow()" class="fas fa-window-minimize pointable" style="color: rgb(100, 129, 184); font-size: 1.1em; margin-right: 5px;"></i>
			<i id="maximizeButton" onClick="maximizeWindow()" class="fas fa-window-maximize pointable" style="color: rgb(184, 150, 100); font-size: 1.1em; margin-right: 5px"></i>
			<i onClick="closeWindow()" class="fas fa-times pointable" style="color: rgb(169, 71, 71); font-size: 1.3em"></i>
		</div>
	</div>
	<div id="toDoBlock" class="toDoBlock">
		<i class="fas fa-times leftPannelClose" style="top: 5px" onClick="toDo()"></i>
		<div id="toDoBlockheader" class="toDoTitle">À faire</div>
		<textarea name="toDoContent" id="toDoContent" onKeyUp="toDoKeyPressed(event)" placeholder="(Tout ce que vous notez ici est sauvegardé et conservé, ce calepin vous suivra sur toutes vos notes)"></textarea>
	</div>

	<div id="menuGaucheSauver" class="mlateral mlateral-gauche">
		<i class="fas fa-times leftPannelClose" onClick="boutonMenuGaucheSauver()"></i>
		<div id="menuNote">
			<div class="formSave">
				<span style="font-size: 1.2em;">
					<i class="fas fa-pencil-ruler"></i>
				</span>
				<input id="menuGaucheSauverInput" type="text" name="nom" placeholder="Ma note" onKeyDown="onTypeOnTitle();"></p>
				<input style="margin-top: -30px;" id="terminee" type="checkbox">
				<label for="terminee">Favori (en développement)</label>
				<div class="savebutton" onClick="save_as_noxunote()">Sauvegarder</div>
			</div>
		</div>
		<div style="font-size: 2.5em; text-align: center; margin: 5px"><i class="fas fa-arrow-down"></i></div>
		<form>
			<div id="matiere" style="background: #FFFFFF;"><input id="matneutre" type="radio" name="mat" value="">Non triée</div>
			<div id="matieres">
			<!---<div id="matiere" style="background-color: #D8DBDB">(A trier)</i></div>-->
			</div>
		</form>
		<div id="matiere" onClick="openSettings('Matières')"><i class="fas fa-plus-circle"></i></div>
	</div>

	<div id="menuGaucheOuvrir" class="mlateral mlateral-gauche">
		<i class="fas fa-times leftPannelClose" onClick='boutonMenuGaucheOuvrir()'></i>
		<h2 style="margin-top: 5px; margin-bottom: 5px; font-size: 1.8em;">Ouvrir</h2>
		<div id="listFiles"></div>
		<div class="savebutton" onclick="openSettings('Notes')">Gérer les notes</div>
	</div>

	<!-- <div id="menuDroitAide" class="mlateral mlateral-droit" style="color: #FFFFFF;">
		<i class="fas fa-times rightPannelClose" onClick="boutonAide()"></i>
		<div class="savebutton" onclick="showTutorial()">Afficher le tutoriel</div>
		<h2 style="color: #242626; margin-top: 5px; margin-bottom: 5px; font-size: 1.8em">Mise en page</h2>
		### <span style="color:rgb(180, 180, 180);">Titre principal</span><br>
		## <span style="color:rgb(180, 180, 180);">Titre</span><br>
		# <span style="color:rgb(180, 180, 180);">Sous Titre</span><br>
		[ <span style="color:rgb(180, 180, 180);">Encadré</span><br>
		! <span style="color:rgb(180, 180, 180);">Exclamation</span><br>
		( <span style="color:rgb(180, 180, 180);">texte marginal</span><br>
		> <span style="color:rgb(180, 180, 180);">Code (HTML, Java etc.)</span><br>
		img = <span style="color:rgb(180, 180, 180);">http://monurl.com/image.JPG</span><br>
		<br>
		<h2 style="color: #242626; margin-top: 5px; margin-bottom: 5px; font-size: 1.8em">Balises</h2>
		** <span style="color:rgb(180, 180, 180);">Surligné</span> **<br>
		++ <span style="color:rgb(180, 180, 180);">Gras</span> ++<br>
		__ <span style="color:rgb(180, 180, 180);">Souligné</span> __<br>
		:: <span style="color:rgb(180, 180, 180);">Italique</span> ::<br>
		<br>
		<h2 style="color: #242626; margin-top: 5px; margin-bottom: 5px; font-size: 1.8em">Formules</h2>
		$$ <span style="color:rgb(180, 180, 180);">alpha/2</span> $$<br> 
		$$ <span style="color:rgb(180, 180, 180);">[[a,b],[c,d]]</span> $$<br> 
		$$ <span style="color:rgb(180, 180, 180);">norm( vecx )</span> $$<br>
		$$ <span style="color:rgb(180, 180, 180);">forall x in RR</span> $$<br>
		$$ <span style="color:rgb(180, 180, 180);">int_0^1 f(x)dx</span> $$<br> 
		$$ <span style="color:rgb(180, 180, 180);">exists x (approx z</span> $$<br>
		$$ <span style="color:rgb(180, 180, 180);">sum_(i=3)^(6) n*i</span> $$<br> 
		$$ <span style="color:rgb(180, 180, 180);">lim_(x->oo) f(x) = +oo</span> $$<br>
		$$ <span style="color:rgb(180, 180, 180);">(sin(x)d^2) / dx^2 = -sin(x)</span> $$<br>
		<div class="savebutton" onclick="showAsciiMathHelp()">Voir +</div>
		<p>(Nécessite internet)</p>
		<br>
		<h2 style="color: #242626; margin-top: 5px; margin-bottom: 5px; font-size: 1.8em">Calculatrice</h2>
		<span style="color:rgb(180, 180, 180);">Exemple d'expressions</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">1.2 * (2 + 4.5)</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">4m - 32cm</span><br>
		&nbsp;<span style="color:rgb(180, 180, 180);">12.7 cm to inch</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">sin(45 deg) ^ 2</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">9 / 3 + 2i</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">det([-1, 2; 3, 1])</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">[[0, 1], [2, 3], [4, 5]] * [1, 2]</span><br>
		<br>
		<span style="color:rgb(180, 180, 180);">Dérivateur</span><br>
		&nbsp;&nbsp;<span style="color:rgb(180, 180, 180);">x^2</span><br>
		<br>
		<h2 style="color: #242626; margin-top: 5px; margin-bottom: 5px; font-size: 1.8em">Tableaux</h2>
		<span style="color:rgb(180, 180, 180);">Commencer la ligne par une / <br>et séparer les cellules avec /</span><br><br>
		/<span style="color:rgb(180, 180, 180);"> C1 </span>/<span style="color:rgb(180, 180, 180);"> C2 </span>/<span style="color:rgb(180, 180, 180);"> C3 </span>/<br>
		<br>
		<span style="color:rgb(180, 180, 180);">Pour fusionner des cellules,<br> mettre plusieurs /</span><br><br>
		/<span style="color:rgb(180, 180, 180);"> C1 C2 </span>//<span style="color:rgb(180, 180, 180);"> C3 </span>/<br>

	</div> -->

	<div id="menuBasCalc">
		<div style="float: left; margin-top: 1px;  margin-bottom: 1px;">
			<span class="calcText">Calculateur</span> 
			<input id="calc" type="text" name="expr" onKeyDown="calcEvaluate()">
			<span class="calcText">=</span>
			<span id="calcResult" class="calcText">0</span>
		</div>
		<div style="float: right; margin-top: 1px;  margin-bottom: 1px; margin-right: 5px;">
			<span class="calcText">Dérivateur</span> 
			<input id="calcDerivative" type="text" name="expr" onKeyDown="calcEvaluateDerivative()">
			<span class="calcText">=</span>
			<span id="calcResultDerivative" class="calcText">0</span>
		</div>
	</div>

	<div class="fixed-action-btn">
		<a class="btn-floating btn-large red">
			<img src="../../images/LOGO_SVG.svg" class="multimenu_logo">
		</a>
		<ul>
			<li class="multimenu_btn" onclick="openSettings()"><a class="btn-floating red" data-tooltip="Réglages" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-cog"></i>
			</a></li>
			<li class="multimenu_btn" onclick="toDo()"><a class="btn-floating orange darken-1" data-tooltip="Block notes" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-sticky-note"></i>
			</a></li>
			<li class="multimenu_btn" onclick="boutonCalculatrice()"><a class="btn-floating yellow darken-1" data-tooltip="Calculatrice" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-calculator"></i>
			</a></li>
			<li class="multimenu_btn" onclick="openExport()"><a class="btn-floating green" data-tooltip="Exporter la note" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-file-export"></i>
			</a></li>
			<li class="multimenu_btn" onclick="boutonMenuGaucheOuvrir()"><a class="btn-floating blue" data-tooltip="Ouvrir" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-folder-open"></i>
			</a></li>
			<li class="multimenu_btn" onclick="boutonMenuGaucheSauver()"><a class="btn-floating indigo" data-tooltip="Enregistrer" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-save"></i>
			</a></li>
			<li class="multimenu_btn" onclick="newFile()"><a class="btn-floating purple" data-tooltip="Nouvelle note" data-tooltip-stickto="left" data-tooltip-delay="0s" data-tooltip-color="slate" data-tooltip-animate-function="foldin">
				<i class="fas fa-plus"></i>
			</a></li>
		</ul>
	</div>
	
</header>

<body>
	<div id="modals">
		<!-- Choix Media Modal -->
		<div class="modal fade" id="choixMediaModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Insérer un média</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span>&times;</span>
						</button>
					</div>
					<div class="modal-body" style="text-align: center">
							<h1>Image</h1>
							<div class="media-largebutton" onClick="modalManager.openModal('imageByUrlModal')">
								<i class="fas fa-link"></i>
								<br>URL
							</div>
							<div class="media-largebutton" onClick="modalManager.openModal('imageByFileModal')">
								<i class="far fa-file-image"></i>
								<br>Fichier
							</div>
							<div class="media-largebutton" onClick="modalManager.closeAllModal(); dessiner()">
								<i class="fas fa-pencil-ruler"></i>
								<br>Schéma
							</div>
							<br><br>
							<h1>Vidéo</h1>
							<div class="media-largebutton">
								<i class="fas fa-link"></i>
								<br>URL
							</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Insert Image by link modal -->
		<div class="modal fade" id="imageByUrlModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Insérer une image via URL</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span>&times;</span>
						</button>
					</div>
					<div class="modal-body" style="text-align: center">
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="inputGroup-sizing-default">URL</span>
							</div>
							<input placeholder="http://example.com/image.jpg ..." id="imageByUrlValue" type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" onClick="insertImageFromUrl()">Importer</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Insert Image by file modal -->
		<div class="modal fade" id="imageByFileModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Insérer une image via des fichiers</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span>&times;</span>
						</button>
					</div>
					<div class="modal-body" style="text-align: center">
						<div class="input-group mb-3">
							<div class="input-group-prepend">
								<span class="input-group-text" id="inputGroup-sizing-default">Fichier(s)</span>
							</div>
							<input id="imageByFileValue" type="file" multiple="multiple" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" onClick="insertImageFromFile()">Importer</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
					</div>
				</div>
			</div>
		</div>

		<!-- saveConfirmation -->
		<div class="modal fade" id="saveConfirmationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" style="cursor: pointer" data-toggle="collapse" href="#catCollapse" id="exampleModalLabel"><i class="fas fa-exclamation-triangle"></i> Note modifiée</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span>&times;</span>
						</button>
					</div>
					<div class="collapse" id="catCollapse">
						<img src="./images/stone_cat.gif">
					</div>
					<div class="modal-body" style="text-align: center">
						Voulez vous enregistrer vos dernières modifications avant de quitter cette note ?
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" onClick="save_as_noxunote(); saveConfirmationModalAction.call(); modalManager.closeAllModal()" data-dismiss="modal">Oui</button>
						<button type="button" class="btn btn-secondary" onClick="saveConfirmationModalAction.call(); " data-dismiss="modal">Non</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
					</div>
				</div>
			</div>
		</div>

		<!-- Insert Equation modal -->
		<div class="modal fade" id="equationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Insérer une équation</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span>&times;</span>
						</button>
					</div>
					<div class="modal-body" style="text-align: center">
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="inputGroup-sizing-default">Preset</span>
								</div>
								<select id="equationPreset" class="form-control" onchange="equationManager.chosenModel()">
									<option value="default" selected="selected">...</option>
									<optgroup>Analyse</optgroup>
									<option value="limit">Limite</option>
									<option value="sum">Somme</option>
									<option value="integral">Intégrale</option>
									<optgroup>Matrices</optgroup>
									<option value="matrix2x2">2x2</option>
									<option value="matrix3x3">3x3</option>
									<optgroup>Accolades</optgroup>
									<option value="system">Système d'équations</option>
									<option value="accsup">Accolades supérieures</option>
									<option value="accinf">Accolades inférieures</option>
								</select>							
								</div>
							<div class="input-group mb-3">
								<div class="input-group-prepend">
									<span class="input-group-text" id="inputGroup-sizing-default">Formule</span>
								</div>
								<input placeholder="lim_(x->oo) f'(x) = 0" id="equationValue" type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" onkeyup="equationManager.onKeyUp(event)">
							</div>
							<div class="mb-3">
								<h5>Aperçu</h5>
								<div class="bg-white text-dark mx-auto p-5 w-75 rounded" id="equation¨Preview">
									<!-- Here goes the MathJax preprocessed result -->
								</div>
								<p>Historique</p>
								<div id="equationHistory">
									<!-- Here goes the rendered nodes history -->
								</div>
							</div>
						</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-primary" onClick="equationManager.insertEquation()">Importer</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
					</div>
				</div>
			</div>
		</div>

	</div>

	<div id="editorRoot">
		<div id="summernote"></div>
	</div>

</body>

<footer>
	<script src="../../node_modules/code-prettify/loader/run_prettify.js?skin=sons-of-obsidian"></script>
	<style>
	.prettyprint {
		background: rgba(0, 0, 0, 0.34);
		padding: 4px;
		margin: 0px;
	}	
	</style>
	<script src="../../node_modules/html5tooltipsjs/html5tooltips.js"></script>
	<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
	<script src="../../node_modules/materialize-css/dist/js/materialize.min.js"></script>
	<script src="../../node_modules/popper.js/dist/umd/popper.min.js"></script>
	<script src="../../node_modules/bootstrap/dist/js/bootstrap.js"></script>
	<script src="../../node_modules/summernote/dist/summernote-bs4.min.js"></script>
	<script src="../../node_modules/summernote/lang/summernote-fr-FR.js"></script>
	<script src="../../node_modules/mathjax/MathJax.js?config=AM_HTMLorMML-full"></script>
	<script src="draggable.js"></script>
	<script src="mainWindow.js"></script> <!-- Electron Script -->
	<script src="fab.js"></script>
	<script src="osAdaptation.js"></script>
</footer>
</html>
